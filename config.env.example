# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=1
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_KEEPALIVE=true
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8081
LOG_LEVEL=INFO
WORKERS=4

# File Processing Configuration
MAX_FILE_SIZE_MB=20
CONVERSION_TIMEOUT_SEC=30
CACHE_TTL_DAYS=7
MAX_PROCESS_WORKERS=2
DISABLE_PROCESS_POOL=false
ENDPOINT_TIMEOUT_SEC=50  # Overall timeout for endpoint requests (should be < gateway timeout, e.g. 60s)

# Telegram Bot API Configuration
TELEGRAM_API_BASE_URL=https://api.telegram.org
TELEGRAM_DOWNLOAD_BASE_URL=https://api.telegram.org/file/bot
TELEGRAM_TIMEOUT_SEC=30
TELEGRAM_API_DETAILED_LOGGING=false

# Telegram API Request Queue Configuration (for 429 error prevention)
# Note: With multiple workers, each worker can make this many concurrent requests
# Total = TELEGRAM_MAX_CONCURRENT_REQUESTS * WORKERS
# Recommended: 2-3 per worker to avoid 429 errors across all workers
TELEGRAM_MAX_CONCURRENT_REQUESTS=2
TELEGRAM_REQUEST_DELAY_MS=150

# HTTP Connection Pool Configuration
# Increased for better parallel request handling
HTTP_MAX_CONNECTIONS=200  # Total connections in pool
HTTP_MAX_CONNECTIONS_PER_HOST=50  # Connections per host (Telegram API)

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SEC=60

# Disk Cache Configuration
DISK_CACHE_DIR=/tmp/sticker_cache
DISK_CACHE_MAX_SIZE_MB=1000
DISK_CACHE_TTL_DAYS=30
DISK_CACHE_CLEANUP_INTERVAL_HOURS=24
DISK_CACHE_ENABLED=true

# Retry Configuration
MAX_RETRIES=3
BASE_RETRY_DELAY=1.0
MAX_RETRY_DELAY=60.0
